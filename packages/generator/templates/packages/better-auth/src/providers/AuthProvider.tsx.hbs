import { AuthProvider as BetterAuthProvider } from '@better-auth/react';
{{#if (includes selectedConfig "google")}}
import { GoogleProvider } from '@better-auth/google';
{{/if}}
{{#if (includes selectedConfig "facebook")}}
import { FacebookProvider } from '@better-auth/facebook';
{{/if}}
import type { ReactNode } from 'react';

const config = {
    clientId: process.env.BETTER_AUTH_CLIENT_ID,
    clientSecret: process.env.BETTER_AUTH_CLIENT_SECRET,
    redirectUri: process.env.BETTER_AUTH_REDIRECT_URI,
    providers: [
        {{#if (includes selectedConfig "email-password")}}
        // Email & Password is enabled by default
        {{/if}}
        {{#if (includes selectedConfig "google")}}
        new GoogleProvider({
            clientId: process.env.BETTER_AUTH_GOOGLE_CLIENT_ID,
            clientSecret: process.env.BETTER_AUTH_GOOGLE_CLIENT_SECRET
        }),
        {{/if}}
        {{#if (includes selectedConfig "facebook")}}
        new FacebookProvider({
            appId: process.env.BETTER_AUTH_FACEBOOK_APP_ID,
            appSecret: process.env.BETTER_AUTH_FACEBOOK_APP_SECRET
        }),
        {{/if}}
    ]
};

export function AuthProvider({ children }: { children: ReactNode }) {
    return (
        <BetterAuthProvider config={config}>
            {children}
        </BetterAuthProvider>
    );
}
